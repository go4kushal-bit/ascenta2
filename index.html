<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">

<link rel="preload" href="forced_square.woff2" as="font" type="font/woff2" crossorigin="anonymous"/>
<link rel="preload" href="images/logo.svg" as="image" type="image/svg+xml"/>

<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>ASCENT 2</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'SF Pro Display',-apple-system,system-ui,sans-serif;
  overflow:hidden;
  height:100vh
}

#lock{
  position:fixed;
  inset:0;
  display:flex;
  align-items:stretch;
  justify-content:stretch;
  z-index:10
}

.container{
  background:#0a0a0a;
  border:none;
  border-radius:0;
  overflow:hidden;
  box-shadow:none;
  width:100%;
  height:100%;
  display:flex;
  flex-direction:column;
  color:#fff;
  position:relative;
  z-index:2
}

.header{
  background:#111;
  border-bottom:1px solid #1f1f1f;
  padding:32px 48px;
  display:flex;
  align-items:center;
  justify-content:space-between
}

.logo-section{
  display:flex;
  align-items:center;
  gap:16px
}

.logo-box{
  width:48px;
  height:48px;
  background:linear-gradient(135deg,#e11d48,#9333ea);
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:900;
  font-size:24px;
  letter-spacing:-1px
}

.title-group h1{
  font-size:28px;
  font-weight:700;
  letter-spacing:-0.5px;
  margin-bottom:2px
}

.title-group .version{
  font-size:12px;
  color:#666;
  font-weight:500;
  text-transform:uppercase;
  letter-spacing:1px
}

.status-badge{
  padding:6px 14px;
  background:#1a1a1a;
  border:1px solid #2a2a2a;
  border-radius:20px;
  font-size:11px;
  font-weight:600;
  color:#888;
  text-transform:uppercase;
  letter-spacing:0.5px
}

.content{
  padding:48px;
  flex:1;
  overflow-y:auto
}

.road-section{
  background:#0d0d0d;
  border:1px solid #1a1a1a;
  border-radius:6px;
  padding:24px;
  margin-bottom:32px;
  position:relative;
  overflow:hidden
}

.road-wrapper{
  position:relative;
  height:100px;
  background:#080808;
  border-radius:4px;
  overflow:hidden
}

.road{
  position:absolute;
  top:50%;
  left:0;
  right:0;
  height:2px;
  background:#1a1a1a;
  transform:translateY(-50%)
}

.dash{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:30px;
  height:2px;
  background:#2a2a2a;
  animation:dashMove 2s linear infinite
}
.dash:nth-child(1){left:0%;animation-delay:0s}
.dash:nth-child(2){left:20%;animation-delay:.4s}
.dash:nth-child(3){left:40%;animation-delay:.8s}
.dash:nth-child(4){left:60%;animation-delay:1.2s}
.dash:nth-child(5){left:80%;animation-delay:1.6s}

@keyframes dashMove{
  0%{transform:translateY(-50%) translateX(0);opacity:1}
  100%{transform:translateY(-50%) translateX(80px);opacity:0}
}

.vehicle{
  position:absolute;
  top:32px;
  width:80px;
  height:36px;
  animation:vehicleMove 5s cubic-bezier(.45,0,.55,1) infinite
}

@keyframes vehicleMove{
  0%{left:-100px}
  100%{left:calc(100% + 20px)}
}

.car-main{
  position:relative;
  width:100%;
  height:100%;
  background:#dc2626;
  clip-path:polygon(15% 30%,85% 30%,95% 100%,5% 100%);
  box-shadow:0 2px 8px rgba(220,38,38,.3)
}

.car-cabin{
  position:absolute;
  top:2px;
  left:18px;
  width:25px;
  height:12px;
  background:rgba(30,30,40,.6);
  clip-path:polygon(0 100%,20% 0,100% 0,80% 100%)
}

.car-cabin:after{
  content:'';
  position:absolute;
  right:-26px;
  top:0;
  width:22px;
  height:12px;
  background:rgba(30,30,40,.6);
  clip-path:polygon(20% 0,100% 0,100% 100%,0 100%)
}

.wheel{
  position:absolute;
  bottom:-4px;
  width:14px;
  height:14px;
  background:#0a0a0a;
  border-radius:50%;
  border:2px solid #1a1a1a
}
.wheel:before{
  content:'';
  position:absolute;
  inset:3px;
  background:#2a2a2a;
  border-radius:50%
}
.wheel.f{left:12px}
.wheel.r{right:8px}

.notice-section{
  margin-bottom:32px
}

.notice-header{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:12px;
  padding-bottom:12px;
  border-bottom:1px solid #1a1a1a
}

.notice-icon{
  width:20px;
  height:20px;
  background:#dc2626;
  border-radius:3px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:13px
}

.notice-title{
  font-size:13px;
  font-weight:600;
  color:#999;
  text-transform:uppercase;
  letter-spacing:1px
}

.notice-text{
  font-size:13px;
  line-height:1.7;
  color:#888;
  font-weight:400
}

.notice-text strong{
  color:#aaa;
  font-weight:600
}

.form-section{
  display:grid;
  grid-template-columns:1fr auto;
  gap:12px;
  margin-bottom:20px
}

.input-wrapper{
  position:relative
}

.input-wrapper:before{
  content:'ðŸ”‘';
  position:absolute;
  left:16px;
  top:50%;
  transform:translateY(-50%);
  font-size:16px;
  opacity:.5
}

input{
  width:100%;
  padding:14px 16px 14px 48px;
  background:#0d0d0d;
  border:1px solid #1a1a1a;
  border-radius:6px;
  color:#fff;
  font-size:15px;
  font-family:inherit;
  transition:border-color .2s
}

input:focus{
  outline:none;
  border-color:#333
}

input::placeholder{
  color:#444
}

button{
  padding:14px 32px;
  background:#fff;
  color:#000;
  border:none;
  border-radius:6px;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  transition:background .2s;
  white-space:nowrap
}

button:hover{
  background:#e5e5e5
}

button:disabled{
  opacity:.5;
  cursor:not-allowed
}

#msg{
  font-size:13px;
  color:#666;
  text-align:center;
  min-height:20px
}

.footer{
  background:#0d0d0d;
  border-top:1px solid #1a1a1a;
  padding:20px 48px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:11px;
  color:#555
}

.footer-links{
  display:flex;
  gap:20px
}

.footer-links span{
  cursor:pointer;
  transition:color .2s
}

.footer-links span:hover{
  color:#888
}

/* Grid overlay */
#lock:before{
  content:'';
  position:absolute;
  inset:0;
  background-image:
    linear-gradient(rgba(255,255,255,.01) 1px,transparent 1px),
    linear-gradient(90deg,rgba(255,255,255,.01) 1px,transparent 1px);
  background-size:40px 40px;
  pointer-events:none;
  z-index:1
}

/* Vignette */
#lock:after{
  content:'';
  position:absolute;
  inset:0;
  background:radial-gradient(circle at center,transparent 0%,rgba(0,0,0,.6) 100%);
  pointer-events:none;
  z-index:1
}

@media(max-width:768px){
  #lock{padding:20px}
  .header,.content,.footer{padding:24px}
  .form-section{grid-template-columns:1fr;gap:10px}
  button{width:100%}
}
</style>
</head>

<body>

<div id="lock">
  <div class="container">
    
    <div class="header">
      <div class="logo-section">
        <div class="logo-box">A2</div>
        <div class="title-group">
          <h1>ASCENT 2</h1>
          <div class="version">Authentication Required</div>
        </div>
      </div>
      <div class="status-badge">â¬¤ Secure</div>
    </div>

    <div class="content">
      
      <div class="road-section">
        <div class="road-wrapper">
          <div class="road">
            <div class="dash"></div>
            <div class="dash"></div>
            <div class="dash"></div>
            <div class="dash"></div>
            <div class="dash"></div>
          </div>
          <div class="vehicle">
            <div class="car-main">
              <div class="car-cabin"></div>
              <div class="wheel f"></div>
              <div class="wheel r"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="notice-section">
        <div class="notice-header">
          <div class="notice-icon">!</div>
          <div class="notice-title">Terms of Access</div>
        </div>
        <div class="notice-text">
          <strong>KAS</strong> retains full ownership of this system and all associated content. Access is granted under limited license terms. Any unauthorized access, reverse engineering, tampering, or exploitation attempts will result in immediate device bans and may be subject to suspension action. Device footprints are monitored and logged. By proceeding, you accept these terms and acknowledge compliance with all applicable regulations.
        </div>
      </div>

      <div class="form-section">
        <div class="input-wrapper">
          <input id="keyInput" placeholder="Enter access key" autocomplete="off">
        </div>
        <button id="unlockBtn">Authenticate</button>
      </div>

      <div id="msg"></div>

    </div>

    <div class="footer">
      <div>Â© 2025 KAS. All rights reserved.</div>
      <div class="footer-links">
        <span>Terms</span>
        <span>Privacy</span>
        <span>Support</span>
      </div>
    </div>

  </div>
</div>

<canvas id="screen"></canvas>
<div id="ui"></div>
<div id="transition-layer"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyA-xmCzHc0_sXOxOyAHppw1brgX0CX8dfU",
  authDomain: "hwid-lock.firebaseapp.com",
  projectId: "hwid-lock",
  storageBucket: "hwid-lock.firebasestorage.app",
  messagingSenderId: "151533882029",
  appId: "1:151533882029:web:561773ea8e9108ed99d424"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const hwid = btoa(navigator.userAgent+screen.width+screen.height+navigator.language);

const msg=document.getElementById("msg");
const input=document.getElementById("keyInput");
const btn=document.getElementById("unlockBtn");

btn.onclick=tryUnlock;
input.addEventListener("keydown",e=>{if(e.key==="Enter")tryUnlock();});

async function tryUnlock(){
  const key=input.value.trim();
  if(!key)return;

  msg.textContent="Verifying...";
  msg.style.color="#666";
  btn.disabled=true;

  // ðŸ‘‘ ADMIN KEY
  const adminSnap=await getDoc(doc(db,"admin_keys",key));
  if(adminSnap.exists()){
    msg.style.color="#4ade80";
    msg.textContent="WE MAKIN IT OUT FR ðŸ”¥";
    setTimeout(unlock,600);
    return;
  }

  // ðŸ”‘ UNUSED KEY
  const keyRef=doc(db,"keys",key);
  const keySnap=await getDoc(keyRef);
  if(keySnap.exists()){
    await setDoc(doc(db,"used_keys",key),{hwid,time:Date.now()});
    await deleteDoc(keyRef);
    unlock();
    return;
  }

  // ðŸ”’ USED KEY
  const usedSnap=await getDoc(doc(db,"used_keys",key));
  if(usedSnap.exists()){
    if(usedSnap.data().hwid===hwid){
      unlock();
    }else{
      msg.style.color="#dc2626";
      msg.textContent="Key locked to another device";
      btn.disabled=false;
    }
    return;
  }

  msg.style.color="#dc2626";
  msg.textContent="Invalid key";
  btn.disabled=false;
}

function unlock(){
  document.getElementById("lock").style.transition="opacity .3s";
  document.getElementById("lock").style.opacity="0";
  setTimeout(()=>{
    document.getElementById("lock").remove();
    load("error_screen.bundle.js");
    load("main.bundle.js");
  },300);
}

function load(s){
  const e=document.createElement("script");
  e.src=s;e.defer=true;document.head.appendChild(e);
}
</script>

</body>
</html>
